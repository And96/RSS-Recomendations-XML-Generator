<!DOCTYPE html>
<html lang="en-US">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
      <title>RSS Reccomendation XML Generator</title>
      <script>
         let templateXML = `{
         "name": "#SITELINK#",
         "link": "#RSSLINK#",
         "icon": "https://www.google.com/s2/favicons?sz=64&domain_url=#ICONLINK#"
         }`;
         
         
         
                function generateCode() {
         	let rssLink = document.getElementById("rssInput").value;
         	var parser = document.createElement('a');
         	parser.href = rssLink;
         	//parser.protocol; // => "http:"
         	//parser.hostname; // => "example.com"
         	let siteLink = parser.hostname.replace("www.","");
         	let iconLink = parser.hostname.replace("www.","");
         	
           			document.getElementById("xmlOutput").value= templateXML.replace("#SITELINK#", siteLink).replace("#ICONLINK#", iconLink).replace("#RSSLINK#", rssLink);
         }
            
      </script>
   </head>
   <body>
      <div class="mb-3 p-5">
         <form>
            <div class="mx-auto pb-5" style="width: 200px;">
               XML Generator
               </br>
               RSS Reccomendations
            </div>
            <div class="mb-3">
               <label for="rssInput" class="form-label">RSS Link</label>
               <input type="text" class="form-control" id="rssInput" placeholder="link.com/rss/feed">
            </div>
            <div class="mb-3">
               <label for="xmlOutput" class="form-label">Generated Code</label>
               <textarea class="form-control" id="xmlOutput" rows="10"></textarea>
            </div>
            <button type="button" onclick="generateCode()" class="btn btn-primary">Generate code</button>
         </form>
      </div>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
   </body>
</html>
